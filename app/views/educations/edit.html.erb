<div class="container" style="margin-top:50px;">
<div id='Academico' >
  <div class="panel panel-primary">
    <div class="panel-heading"><div class="panel-title" style="padding-top:1px;padding-bottom:1px"><h4 style="margin-left:5px">Formación Académica </h4></div></div>
      <div class="panel-body">
      </div>
      <div class="panel-footer well">
        <%= form_for :education, url: '/education/update', html: { method: :put } do |f| %>
        <div class="row">
          <div class="field col col-md-6">
            <%= f.label :grado_académico %><br />
            <div>
              <%=f.text_field :title, :id=>'filtrar',:class=>"form-control"%>
              <%= f.select :title,@title_list,{},class:"form-control",:id=>'titulos',:style=>"margin-top: 10px;height: 170px;",:size=>'10',:name=>'type[]'%>
            </div>
          </div>
          <div class="field col col-md-6">
            <%= f.label :institución %>
            <%= f.text_field :school_name,:id=>'filtrar_u',:class=>"form-control"%>
            <%= f.select :school_name,@schools,{},class:"form-control",:id=>'universidades',:style=>"margin-rop: 10px;;height: 170px;",:size=>'10',:name=>'type[]'%>
          </div>
        </div>
        <br>
        <div class="row">
          <div class="field col col-md-6" >
            <%= f.label :Fecha_ingreso %>
            <%= f.date_select :start_date,:start_year  =>1990, :end_year=>Time.now.year+5 %>
          </div>
          <div class="field col col-md-6">
            <%= f.label :fecha_egreso %>
            <%= f.date_select :end_date ,:start_year  =>1990, :end_year=>Time.now.year+5%>
          </div>
        </div>
        <br>
        <div class="pull-left">
          <a id="link-mas">Mostrar más</a>
          <a id="link-menos" style="display:none">Mostrar menos</a>
        </div>
        <br>
        <div id="mas" style="display:none">
          <div class="row">
            <div class="col col-md-6">
              <%= f.label :titulo_del_trabajo_académico %>
              <%= f.text_field :thesis,:class=>"form-control"%>
            </div>
            <div class="col col-md-6">
              <%= f.label :modalidad_de_titulación %>
              <%= f.text_field :modality,:class=>"form-control"%>
            </div>
          </div>
          <div class="row">
            <div class="col col-md-6">
              <%= f.label :nota_del_proyecto %>
              <%= f.number_field :grade,:class=>"form-control",:min=>1,:max=>100%>
            </div>
            <div class="col col-md-6">
              <%= f.label :promedio_académico %>
              <%= f.number_field :average,:class=>"form-control",min:1,max:100%>
            </div>
          </div>
        </div>
          <br>
        <%=f.hidden_field :id, :value => @education.id%>
          <div class="actions">
            <%= f.submit "Guardar",:class =>"btn btn-primary pull-right" %>
          </div>
          <br>
        </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
<script>
$(document).ready(function(){
    $('#boton_academico').attr('disabled',true);
    $('#filtrar').keyup(function(){
        if($(this).val().length !=0)
          $('#boton_academico').attr('disabled', false);
        else
            $('#boton_academico').attr('disabled',true);
    })
  });
  $(document).ready(function () {
              (function ($) {
                  $('#filtrar').keyup(function () {
                      var rex = new RegExp($(this).val(), 'i');
                      $('#titulos option').hide();
                      $('#titulos option').filter(function () {
                          return rex.test($(this).text());
                      }).show();
                  })
              }(jQuery));
          });
    $(document).ready(function () {
      (function ($) {
          $('#filtrar_u').keyup(function () {
              var rex = new RegExp($(this).val(), 'i');
              $('#universidades option').hide();
              $('#universidades option').filter(function () {
                  return rex.test($(this).text());
              }).show();
          })
      }(jQuery));
  });
  $("#universidades").change(function(){
    $("#filtrar_u").val(this.value);
  }).change();
  var e=document.getElementById('filtrar');
  $("#titulos").change(function(){
    $("#filtrar").val(this.value);
  }).change();
</script>

<script>
  $("#link-mas").click(function(){
    document.getElementById('link-mas').style.display='none';
    document.getElementById('link-menos').style.display='block';
    document.getElementById('mas').style.display="block";
  });
  $("#link-menos").click(function(){
    document.getElementById('link-menos').style.display='none';
    document.getElementById('link-mas').style.display='block';
    document.getElementById('mas').style.display="none";
  });
</script>
